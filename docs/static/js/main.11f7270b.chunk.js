(this["webpackJsonptw-thrall-map"]=this["webpackJsonptw-thrall-map"]||[]).push([[0],{24:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var o,a=n(1),c=n.n(a),i=n(9),r=n.n(i),s=(n(24),n(25),n(15)),l=n(16),d=n(19),h=n(18),j=(n(26),n(27),n(13)),u=n(4),b=n(38),m=n(39),g=n(40),O=n(2),v=(n(28),n(0)),f=function(e){return Object(v.jsxs)("div",{className:"thrall-header",onClick:function(){return e.onSelect(e.category)},children:[Object(v.jsx)("div",{children:Object(v.jsx)("div",{className:"thrall-header-name",children:e.category.name})}),Object(v.jsx)("div",{style:{marginLeft:"auto",marginRight:"16px"},children:Object(v.jsx)("span",{className:"material-icons",style:{fontSize:"20pt"},children:e.icon})})]})},p=function(e){return Object(v.jsx)(f,{onSelect:e.onSelect,category:e.category,icon:"chevron_right"})};!function(e){e.THRALL="THRALL",e.POINT_OF_INTEREST="POINT_OF_INTEREST",e.BOSS="BOSS",e.RECIPE="RECIPE",e.MERCHANT="MERCHANT"}(o||(o={}));n(30),n(31);var x=function(e){return Object(v.jsx)("div",{onClick:function(){return e.onSelectLocation(e.location)},className:"thrall-detail-single-location",children:Object(v.jsxs)("div",{className:"display-in-row display-in-center ",children:[Object(v.jsx)("div",{style:{marginRight:"16px"},children:Object(v.jsx)("img",{alt:"icon camp",src:"/Savage_Wilds_Interactive_Map/fc_assets/icon_camp.png"})}),Object(v.jsxs)("div",{style:{marginRight:"auto"},children:[Object(v.jsx)("div",{style:{fontSize:"14pt"},children:e.location.area}),Object(v.jsx)("div",{style:{fontSize:"11pt"},children:e.location.areaDescription}),Object(v.jsx)("div",{style:{fontSize:"9pt"},children:e.location.detail}),Object(v.jsxs)("div",{style:{fontSize:"9pt"},children:["Coordiantes: ",e.location.x," / ",e.location.y," / ",e.location.z]})]})]})})},y=function(e){var t;return Object(v.jsx)("div",{className:"thrall-location-list-container",children:Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"thrall-location-list-header",children:"Locations"}),Object(v.jsx)("div",{className:"thrall-location-list-subheader",children:"Click a location to jump to it"}),Object(v.jsx)("div",{className:"thrall-details-locations",children:null===(t=e.category)||void 0===t?void 0:t.locations.map((function(t,n){return Object(v.jsx)(x,{onSelectLocation:e.onSelectLocation,location:t},n)}))})]})})};var S=function(e){var t,n=e.focused?"thrall-details-sliding-in":"thrall-details-sliding-out";return Object(v.jsx)("div",{className:"thrall-details-container "+n,children:Object(v.jsxs)("div",{className:"thrall-details",children:[Object(v.jsx)(f,{category:e.category||{descritpion:"",name:"",locations:[],type:o.POINT_OF_INTEREST},icon:"chevron_left",onSelect:e.onDeSelect}),Object(v.jsx)("div",{className:"thrall-location-description",children:null===(t=e.category)||void 0===t?void 0:t.descritpion}),Object(v.jsx)(y,{category:e.category,onSelectLocation:e.onSelectLocation})]})})},C=(n(32),function(e){var t=e.selectedThrallFocused?"thrall-list-sliding-out":"thrall-list-sliding-in";return Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)(S,{focused:e.selectedThrallFocused,onSelectLocation:e.onSelectLocation,category:e.selectedCategory,onDeSelect:e.onDeselectThrall}),Object(v.jsx)("div",{className:"thrall-list "+t,children:e.categories.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(t){return Object(v.jsx)(p,{onSelect:e.onSelectCategory,category:t},t.name)}))})]})});function _(e){return{lat:-1*e.y,lng:e.x}}var N=n(35);function k(e){var t=Object(N.a)();if(e.location&&!e.location.preventPan){var n=e.location.zoom?e.location.zoom:t.getZoom(),o=e.location.center?e.location.center:t.getCenter();t.flyTo(o,n)}return null}var T=n(36),w=n(37),L=Object(O.icon)({iconUrl:"/Savage_Wilds_Interactive_Map/fc_assets/icon_camp.png",iconSize:[24,24],tooltipAnchor:[0,12]});function z(e){return e.focused?e.locations.map((function(e){return function(e){var t=_(e);return Object(v.jsx)(T.a,{icon:L,position:t,children:Object(v.jsx)(w.a,{direction:"bottom",children:e.name})},e.id)}(e)})):[]}function Z(e){var t=Object(N.b)({zoom:function(){console.log(t.getZoom()),e.onZoomCenterChange({zoom:t.getZoom(),center:t.getCenter(),preventPan:!0})},click:function(e){console.log(e.latlng.lat,e.latlng.lng)},drag:function(){t.panInsideBounds(e.mapBounds,{animate:!1}),e.onZoomCenterChange({zoom:t.getZoom(),center:t.getCenter(),preventPan:!0})}});return null}n(33);var I=function(e){return e.open?Object(v.jsx)("div",{className:"dialog-container",onClick:e.onClose,children:Object(v.jsxs)("div",{className:"dialog",onClick:function(e){"A"!==e.target.tagName&&e.preventDefault(),e.stopPropagation()},children:[Object(v.jsx)("div",{className:"dialog-header",children:"Information"}),Object(v.jsx)("div",{className:"dialog-subheader",children:"About"}),Object(v.jsxs)("div",{children:["This map contains information about the thralls added by the\xa0",Object(v.jsx)("a",{target:"_blank",href:"https://steamcommunity.com/sharedfiles/filedetails/?id=1326031593",rel:"noreferrer",children:"Thrall Wars Dungeon Mod"}),".",Object(v.jsx)("br",{}),"Check out the mod page for more information!",Object(v.jsx)("br",{}),"You can find the source code over on ",Object(v.jsx)("a",{target:"_blank",href:"https://github.com/Nia292/tw-map",rel:"noreferrer",children:"GitHub"}),"."]}),Object(v.jsx)("div",{className:"dialog-subheader",children:"Privacy"}),Object(v.jsxs)("div",{children:["This site does not track your information. ",Object(v.jsx)("br",{}),"This site does not use cookies. ",Object(v.jsx)("br",{}),"This site does not store data on your local device aside from normal browser caching. ",Object(v.jsx)("br",{}),"Site provided by\xa0",Object(v.jsx)("a",{target:"_blank",href:"https://pages.github.com/",rel:"noreferrer",children:"GitHub pages"}),". Check out\xa0",Object(v.jsx)("a",{target:"_blank",href:"https://docs.github.com/en/github/site-policy/github-privacy-statement",rel:"noreferrer",children:"GitHub's privacy statement"}),"\xa0to find out what data GitHub collects."]}),Object(v.jsx)("div",{className:"dialog-subheader",children:"Contributing"}),Object(v.jsx)("div",{children:"This map is far from completed. Head over to GitHub to find out how to contribute data!"}),Object(v.jsx)("div",{className:"dialog-subheader",children:"More"}),Object(v.jsxs)("div",{children:["There is also the ",Object(v.jsx)("a",{target:"_blank",href:"https://nia292.github.io/tw-dice-calc/index.html",rel:"noreferrer",children:"TW Dice Calculator"})," to plan your RP characters!"]}),Object(v.jsx)("div",{className:"dialog-subheader",children:"Credits"}),Object(v.jsxs)("div",{children:["Funcom for Conan Exiles and the map!",Object(v.jsx)("br",{}),"Savage Wilds mod for the Savage Wilds map! ",Object(v.jsx)("br",{}),"Japata for helping me with the locations and general thrall information. \ud83d\udc0d"]})]})}):Object(v.jsx)(c.a.Fragment,{})},E={lat:0,lng:0};function R(e){var t=Object(a.useState)(void 0),n=Object(u.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(!1),r=Object(u.a)(i,2),s=r[0],l=r[1],d=Object(a.useState)(void 0),h=Object(u.a)(d,2),f=h[0],p=h[1],x=Object(a.useState)(!1),y=Object(u.a)(x,2),S=y[0],N=y[1],T=Object(a.useState)(!1),w=Object(u.a)(T,2),L=w[0],R=w[1];var H=(null===f||void 0===f?void 0:f.center)?f.center:E,M=(null===f||void 0===f?void 0:f.zoom)?f.zoom:-8.7,P=function(e,t,n,o){var a=new O.LatLng(e,t),c=new O.LatLng(n,o);return new O.LatLngBounds(a,c)}(e.south,e.west,e.north,e.east);return Object(v.jsxs)("div",{className:"thrall-map-wrapper",children:[Object(v.jsx)("div",{id:"info-button",className:"display-in-center",onClick:function(){return N(!0)},children:Object(v.jsx)("span",{className:"material-icons",style:{fontSize:"18pt"},children:"help_outline"})}),Object(v.jsxs)("div",{id:"hq-checkbox-wrapper",className:"display-in-center",children:[Object(v.jsx)("input",{id:"hq-checkbox",type:"checkbox",checked:L,onClick:function(e){var t=e.target;R(t.checked)}}),Object(v.jsx)("label",{htmlFor:"hq-checkbox",children:"HQ Map (11mb)"})]}),Object(v.jsx)(I,{open:S,onClose:function(){return N(!1)}}),Object(v.jsxs)(b.a,{center:H,style:{height:"100vh",width:"calc(100vw - var(--sidebar-width))"},minZoom:e.minZoom,maxZoom:e.maxZoom,zoomSnap:.1,zoomDelta:.1,crs:O.CRS.Simple,bounds:P,maxBounds:P,zoomControl:!1,zoom:M,children:[Object(v.jsx)(m.a,{}),!L&&Object(v.jsx)(g.a,{url:"/Savage_Wilds_Interactive_Map"+e.mapLq,bounds:P}),L&&Object(v.jsx)(g.a,{url:"/Savage_Wilds_Interactive_Map"+e.mapHq,bounds:P}),Object(v.jsx)(Z,{mapBounds:P,onZoomCenterChange:p}),Object(v.jsx)(k,{location:f}),Object(v.jsx)(z,{locations:o?o.locations:e.categories.map((function(e){return e.locations})).reduce((function(e,t){return[].concat(Object(j.a)(e),Object(j.a)(t))}),[]),focused:s})]}),Object(v.jsx)("div",{className:"sidebar-right",children:Object(v.jsx)(C,{categories:e.categories,selectedCategory:o,onSelectCategory:function(e){var t=function(e){if(e.length<=0)return null;if(e.length<=1)return _(e[0]);if(e.length<=2){var t=e.map((function(e){return _(e)}));return new O.Polyline(t).getBounds().getCenter()}var n=e.map((function(e){return _(e)}));return new O.Polygon(n).getBounds().getCenter()}(e.locations);t&&p({zoom:-8,center:t}),c(e),l(!0)},onSelectLocation:function(e){p({center:_(e),zoom:-7})},selectedThrallFocused:s,onDeselectThrall:function(){l(!1),p({zoom:-8.7,center:E})}})})]})}var H=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).state={loaded:!1,data:{categories:[],map_hq:"",map_lq:"",minZoom:-12,maxZoom:-4,bounds:{east:0,north:0,south:0,west:0}}},o}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/Savage_Wilds_Interactive_Map/data.json").then((function(e){return e.json()})).then((function(t){return e.setState({data:t,loaded:!0})}))}},{key:"render",value:function(){if(!this.state.loaded)return Object(v.jsx)("div",{children:"Map Loading..."});var e=this.state.data.bounds;return Object(v.jsx)("div",{children:Object(v.jsx)(R,{categories:this.state.data.categories,minZoom:this.state.data.minZoom,maxZoom:this.state.data.maxZoom,mapHq:this.state.data.map_hq,mapLq:this.state.data.map_lq,north:e.north,west:e.west,east:e.east,south:e.south})})}}]),n}(c.a.Component);r.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(H,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.11f7270b.chunk.js.map